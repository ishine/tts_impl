# TODO list
- データ前処理
- VITS, JITSに共通するmonotonic alignを統一する
    - [Super MAS](https://arxiv.org/abs/2409.07704
    )([公式実装](https://github.com/supertone-inc/super-monotonic-align))との統合を試みる
    - tritonが利用可能な場合はtriton, そうでなければpytorch JIT or numbaを使う。
    - できたが、JITでは論文で提唱されているようなパフォーマンスが出なかった。環境が違うから？
        - たとえば、windows環境だとjitが効かないとか。
    - 自動的にベンチマークをとって、最も高速なMASを選択する機能を追加したい。


## 前処理の詳細
### TTS前処理の流れ
1. 音声ファイルや書き起こしのファイルパス群を取得する。話者情報も取得する
2. 長い音声ファイルであれば、VADとそれに基づく分割を行う。必要ならノイズ除去も。
3. 特徴量抽出(specrogram, f0, energy, length, BERT, etc...)などを行う。
4. 書き起こしが存在しないなら、音声認識(ASR)モデルで書き起こしを行う。
5. 音素抽出を行う。
6. 音素区間アライメントが存在しない、かつ必要なら、alignerでアライメントを行う。
7. データセットキャッシュに出力する。

### ボコーダー前処理の流れ
1. 音声ファイルのパスを取得
2. ロードして所定の長さに分割、あるいはVADを行う、チャネル数を調整する。必要ならノイズを除去などする。
3. 特徴量を抽出する
4. データセットキャッシュに出力する。

### VC前処理の流れ
ぼこーだーとほぼ同じだがspeaker情報とかがあると良い。