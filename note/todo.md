# TODO list
- データ前処理
- VITS, JITSに共通するmonotonic alignを統一する
- VITS の引数をいい感じにまとめる?
- VITSのカスタムをサポートする
    - f0
    - 言語モデル特徴量
    - length_regurator
    - decoder
- VITS2の実装
    - VITSとあまり差がないのでこちらに統合するのはどうだろうか。
- JETSの実装
- FastSpeech2の実装
- オーディコーデックの実装
    - SoundStream
    - 拡散モデル向けVAE


## 前処理の詳細
### TTS前処理の流れ
1. 音声ファイルや書き起こしのファイルパス群を取得する。話者情報も取得する
2. 長い音声ファイルであれば、VADとそれに基づく分割を行う。必要ならノイズ除去も。
3. 特徴量抽出(specrogram, f0, energy, length, BERT, etc...)などを行う。
4. 書き起こしが存在しないなら、音声認識(ASR)モデルで書き起こしを行う。
5. 音素抽出を行う。
6. 音素区間アライメントが存在しない、かつ必要なら、alignerでアライメントを行う。
7. データセットキャッシュに出力する。

### ボコーダー前処理の流れ
1. 音声ファイルのパスを取得
2. ロードして所定の長さに分割、あるいはVADを行う、チャネル数を調整する。必要ならノイズを除去などする。
3. 特徴量を抽出する
4. データセットキャッシュに出力する。

### VC前処理の流れ
ぼこーだーとほぼ同じだがspeaker情報とかがあると良い。

## 抽象的に
- Preprocessor: 前処理をまとめたもの？
    - DataCollector: 生データを集めてくる(音声ファイル, 書き起こし, 話者名)
        - ノイズ除去, VADと切り抜き, 所定の長さに分割
    - Extractor: 特徴量抽出・加工処理
        - 音声からピッチ、エネルギー抽出、テキストから音素抽出、言語モデル特徴量抽出
    - CacheWriter: データ保存処理、話者リストなどのメタデータ作成